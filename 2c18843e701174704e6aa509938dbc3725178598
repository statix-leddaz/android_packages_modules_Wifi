{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a0d7d07d_211d9f38",
        "filename": "service/java/com/android/server/wifi/WifiServiceImpl.java",
        "patchSetId": 4
      },
      "lineNbr": 7161,
      "author": {
        "id": 1368080
      },
      "writtenOn": "2024-01-04T14:19:04Z",
      "side": 1,
      "message": "Please add @VisableForTesting tag if the outside caller is unit test only.",
      "range": {
        "startLine": 7161,
        "startChar": 0,
        "endLine": 7161,
        "endChar": 37
      },
      "revId": "2c18843e701174704e6aa509938dbc3725178598",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "49ac2506_dfdf89d8",
        "filename": "service/java/com/android/server/wifi/WifiServiceImpl.java",
        "patchSetId": 4
      },
      "lineNbr": 7161,
      "author": {
        "id": 2029698
      },
      "writtenOn": "2024-01-05T11:05:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a0d7d07d_211d9f38",
      "range": {
        "startLine": 7161,
        "startChar": 0,
        "endLine": 7161,
        "endChar": 37
      },
      "revId": "2c18843e701174704e6aa509938dbc3725178598",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16142dd2_86bc6b3e",
        "filename": "service/tests/wifitests/src/com/android/server/wifi/WifiServiceImplTest.java",
        "patchSetId": 4
      },
      "lineNbr": 11656,
      "author": {
        "id": 1368080
      },
      "writtenOn": "2024-01-04T14:19:04Z",
      "side": 1,
      "message": "Can you reference other test function about how to mock supported feature?\n\nhttps://cs.android.com/android/platform/superproject/main/+/main:packages/modules/Wifi/service/tests/wifitests/src/com/android/server/wifi/WifiServiceImplTest.java;l\u003d10068?q\u003dservice%2Ftests%2Fwifitests%2Fsrc%2Fcom%2Fandroid%2Fserver%2Fwifi%2FWifiServiceImplTest.java",
      "range": {
        "startLine": 11656,
        "startChar": 16,
        "endLine": 11656,
        "endChar": 34
      },
      "revId": "2c18843e701174704e6aa509938dbc3725178598",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "582931e8_eaeccd4d",
        "filename": "service/tests/wifitests/src/com/android/server/wifi/WifiServiceImplTest.java",
        "patchSetId": 4
      },
      "lineNbr": 11656,
      "author": {
        "id": 2029698
      },
      "writtenOn": "2024-01-05T11:05:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "16142dd2_86bc6b3e",
      "range": {
        "startLine": 11656,
        "startChar": 16,
        "endLine": 11656,
        "endChar": 34
      },
      "revId": "2c18843e701174704e6aa509938dbc3725178598",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ed1cd19_4350952c",
        "filename": "service/tests/wifitests/src/com/android/server/wifi/WifiServiceImplTest.java",
        "patchSetId": 4
      },
      "lineNbr": 11656,
      "author": {
        "id": 1368080
      },
      "writtenOn": "2024-01-05T11:25:26Z",
      "side": 1,
      "message": "We should mock the input from other module, i.e. mActiveModeWarden\n        when(mActiveModeWarden.getSupportedFeatureSet())\n                .thenReturn(WifiManager.WIFI_FEATURE_PNO);",
      "parentUuid": "582931e8_eaeccd4d",
      "range": {
        "startLine": 11656,
        "startChar": 16,
        "endLine": 11656,
        "endChar": 34
      },
      "revId": "2c18843e701174704e6aa509938dbc3725178598",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13dafbc9_4bb640fd",
        "filename": "service/tests/wifitests/src/com/android/server/wifi/WifiServiceImplTest.java",
        "patchSetId": 4
      },
      "lineNbr": 11656,
      "author": {
        "id": 2029698
      },
      "writtenOn": "2024-01-05T12:28:20Z",
      "side": 1,
      "message": "In WifiServiceImpl.java, we have getSupportedFeatures(), in mActiveModeWarden we have getSupportedFeatureSet() which is different. isPnoSupported is checking getSupportedFeatures() and not getSupportedFeatureSet(). \n\nDo I need to use when(mActiveModeWarden.getSupportedFeatureSet())\n.thenReturn(WifiManager.WIFI_FEATURE_PNO) instead of when(mWifiServiceImpl.getSupportedFeatures()).thenReturn(WifiManager.WIFI_FEATURE_PNO)?",
      "parentUuid": "1ed1cd19_4350952c",
      "range": {
        "startLine": 11656,
        "startChar": 16,
        "endLine": 11656,
        "endChar": 34
      },
      "revId": "2c18843e701174704e6aa509938dbc3725178598",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1cdba676_876da1f0",
        "filename": "service/tests/wifitests/src/com/android/server/wifi/WifiServiceImplTest.java",
        "patchSetId": 4
      },
      "lineNbr": 11656,
      "author": {
        "id": 1368080
      },
      "writtenOn": "2024-01-05T12:31:57Z",
      "side": 1,
      "message": "Yes. please reference the sample I provide. You should follow the same way to test your API.\nWe should not mock the return of the target module directly.\nThe unit test is testing the WifiServiceImp, we should not test it with mock it.",
      "parentUuid": "13dafbc9_4bb640fd",
      "range": {
        "startLine": 11656,
        "startChar": 16,
        "endLine": 11656,
        "endChar": 34
      },
      "revId": "2c18843e701174704e6aa509938dbc3725178598",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}